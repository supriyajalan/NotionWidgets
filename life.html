<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Progress Panel</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: transparent;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    }

    :root{
      --pink: #FF00B8;
      --panel-bg: rgba(255, 0, 184, 0.08);
      --panel-border: rgba(255, 0, 184, 0.25);
      --track: rgba(255, 0, 184, 0.20);
      --text: rgba(255, 0, 184, 1);
      --muted: rgba(255, 0, 184, 0.75);
      --shadow: rgba(255, 0, 184, 0.25);
      --radius: 18px;
    }

    .panel {
      width: 100%;
      max-width: 560px;
      margin: 12px auto;
      padding: 14px;
      border-radius: var(--radius);
      background: var(--panel-bg);
      border: 1px solid var(--panel-border);
      color: var(--text);
      box-shadow: 0 18px 40px var(--shadow);
      position: relative;
      overflow: hidden;
    }

    /* subtle highlight */
    .panel::before {
      content: "";
      position: absolute;
      inset: -40px;
      background:
        radial-gradient(circle at 20% 30%, rgba(255,255,255,0.12), transparent 45%),
        radial-gradient(circle at 80% 70%, rgba(255,255,255,0.10), transparent 55%);
      opacity: 0.9;
      pointer-events: none;
      mix-blend-mode: overlay;
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 10px;
      position: relative;
      z-index: 1;
      margin-bottom: 10px;
    }

    .title {
      font-size: 12px;
      font-weight: 900;
      letter-spacing: 0.6px;
      text-transform: uppercase;
    }

    .sub {
      font-size: 11px;
      color: var(--muted);
      white-space: nowrap;
      font-variant-numeric: tabular-nums;
    }

    .row {
      position: relative;
      z-index: 1;
      margin-top: 12px;
    }

    .row:first-of-type { margin-top: 6px; }

    .topline {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 10px;
      margin-bottom: 6px;
    }

    .label {
      font-size: 12px;
      font-weight: 800;
      letter-spacing: 0.2px;
      text-transform: uppercase;
    }

    .stat {
      font-size: 12px;
      color: var(--muted);
      font-variant-numeric: tabular-nums;
      white-space: nowrap;
    }

    .track {
      height: 14px;
      background: var(--track);
      border-radius: 999px;
      overflow: hidden;
    }

    .fill {
      height: 100%;
      width: 0%;
      border-radius: 999px;
      background: linear-gradient(90deg, #ff7ad9, #ff4fcf, var(--pink));
      transition: width 700ms cubic-bezier(.2,.9,.2,1);
      box-shadow:
        0 0 12px rgba(255, 0, 184, 0.55),
        inset 0 1px 2px rgba(255, 255, 255, 0.35);
      position: relative;
    }

    /* glossy y2k shine */
    .fill::after{
      content:"";
      position:absolute; inset: 1px 2px 6px 2px;
      border-radius: 999px;
      background: linear-gradient(180deg, rgba(255,255,255,0.42), rgba(255,255,255,0));
      opacity: .55;
      pointer-events:none;
    }

    .hint {
      position: relative;
      z-index: 1;
      margin-top: 12px;
      font-size: 11px;
      color: var(--muted);
    }

    .tiny {
      font-size: 10px;
      opacity: 0.9;
    }
  </style>
</head>

<body>
  <div class="panel">
    <div class="header">
      <div class="title">Progress Panel</div>
      <div class="sub" id="nowText">Loading…</div>
    </div>

    <div class="row">
      <div class="topline">
        <div class="label">Year</div>
        <div class="stat" id="yearStat">—</div>
      </div>
      <div class="track"><div class="fill" id="yearFill"></div></div>
    </div>

    <div class="row">
      <div class="topline">
        <div class="label">Quarter</div>
        <div class="stat" id="quarterStat">—</div>
      </div>
      <div class="track"><div class="fill" id="quarterFill"></div></div>
    </div>

    <div class="row">
      <div class="topline">
        <div class="label">Month</div>
        <div class="stat" id="monthStat">—</div>
      </div>
      <div class="track"><div class="fill" id="monthFill"></div></div>
    </div>

    <div class="row">
      <div class="topline">
        <div class="label">Week</div>
        <div class="stat" id="weekStat">—</div>
      </div>
      <div class="track"><div class="fill" id="weekFill"></div></div>
    </div>

    <div class="row">
      <div class="topline">
        <div class="label">Day</div>
        <div class="stat" id="dayStat">—</div>
      </div>
      <div class="track"><div class="fill" id="dayFill"></div></div>
      <div class="tiny" style="margin-top:6px; color: rgba(255,0,184,0.7);" id="dayTiny">—</div>
    </div>

    <div class="row">
      <div class="topline">
        <div class="label">Life</div>
        <div class="stat" id="lifeStat">—</div>
      </div>
      <div class="track"><div class="fill" id="lifeFill"></div></div>
      <div class="hint">
        Born <b>Apr 14, 2001</b> • Life target <b>80</b>
      </div>
    </div>
  </div>

  <script>
    // ---- helpers ----
    const clamp01 = (x) => Math.max(0, Math.min(1, x));
    const pct = (x) => Math.round(clamp01(x) * 100);

    // Use local time (KST for you), no special timezone conversion needed.
    const now = new Date();

    const fmtDate = (d) => d.toLocaleDateString(undefined, { year:"numeric", month:"short", day:"numeric" });
    const fmtTime = (d) => d.toLocaleTimeString(undefined, { hour:"2-digit", minute:"2-digit" });

    document.getElementById("nowText").textContent = `${fmtDate(now)} • ${fmtTime(now)}`;

    // ---- YEAR ----
    const yearStart = new Date(now.getFullYear(), 0, 1, 0, 0, 0);
    const yearEnd   = new Date(now.getFullYear() + 1, 0, 1, 0, 0, 0);
    const yearProg  = (now - yearStart) / (yearEnd - yearStart);

    document.getElementById("yearFill").style.width = pct(yearProg) + "%";
    document.getElementById("yearStat").textContent = `${pct(yearProg)}% • ${fmtDate(yearStart)} → ${fmtDate(new Date(yearEnd - 1))}`;

    // ---- QUARTER ----
    const q = Math.floor(now.getMonth() / 3) + 1; // 1..4
    const quarterStartMonth = (q - 1) * 3;
    const quarterStart = new Date(now.getFullYear(), quarterStartMonth, 1, 0, 0, 0);
    const quarterEnd = new Date(now.getFullYear(), quarterStartMonth + 3, 1, 0, 0, 0);
    const quarterProg = (now - quarterStart) / (quarterEnd - quarterStart);

    document.getElementById("quarterFill").style.width = pct(quarterProg) + "%";
    document.getElementById("quarterStat").textContent = `Q${q} • ${pct(quarterProg)}%`;

    // ---- MONTH ----
    const monthStart = new Date(now.getFullYear(), now.getMonth(), 1, 0, 0, 0);
    const monthEnd = new Date(now.getFullYear(), now.getMonth() + 1, 1, 0, 0, 0);
    const monthProg = (now - monthStart) / (monthEnd - monthStart);

    document.getElementById("monthFill").style.width = pct(monthProg) + "%";
    document.getElementById("monthStat").textContent = `${now.toLocaleDateString(undefined, {month:"long"})} • ${pct(monthProg)}%`;

    // ---- WEEK (Mon → Sun) ----
    // JS: Sun=0, Mon=1... We want Monday as start.
    const dayOfWeek = now.getDay();
    const mondayOffset = (dayOfWeek + 6) % 7; // Mon=0 ... Sun=6
    const weekStart = new Date(now.getFullYear(), now.getMonth(), now.getDate() - mondayOffset, 0, 0, 0);
    const weekEnd = new Date(weekStart.getFullYear(), weekStart.getMonth(), weekStart.getDate() + 7, 0, 0, 0);
    const weekProg = (now - weekStart) / (weekEnd - weekStart);

    document.getElementById("weekFill").style.width = pct(weekProg) + "%";
    document.getElementById("weekStat").textContent = `${pct(weekProg)}% • ${fmtDate(weekStart)} → ${fmtDate(new Date(weekEnd - 1))}`;

    // ---- DAY ----
    const dayStart = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 0, 0, 0);
    const dayEnd = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1, 0, 0, 0);
    const dayProg = (now - dayStart) / (dayEnd - dayStart);

    document.getElementById("dayFill").style.width = pct(dayProg) + "%";
    document.getElementById("dayStat").textContent = `${pct(dayProg)}% • ${fmtTime(now)}`;
    const hoursLeft = Math.max(0, (dayEnd - now) / (1000*60*60));
    document.getElementById("dayTiny").textContent = `${hoursLeft.toFixed(1)} hrs left today`;

    // ---- LIFE (DOB → 80th birthday) ----
    // You said: born April 14, 2001. Life expectancy target: 80.
    const dob = new Date(2001, 3, 14, 0, 0, 0); // month is 0-based: 3 = April
    const lifeEnd = new Date(2001 + 80, 3, 14, 0, 0, 0); // 80th birthday
    const lifeProg = (now - dob) / (lifeEnd - dob);

    const lifePercent = pct(lifeProg);
    document.getElementById("lifeFill").style.width = lifePercent + "%";

    // More human stat: age + percent
    const ageMs = now - dob;
    const ageYears = ageMs / (1000 * 60 * 60 * 24 * 365.2425); // average year length
    const ageText = ageYears >= 0 ? ageYears.toFixed(2) : "—";
    document.getElementById("lifeStat").textContent = `${lifePercent}% • Age ${ageText}`;

    // Optional: keep the day bar ticking if you leave it open
    setInterval(() => {
      const n = new Date();
      const ds = new Date(n.getFullYear(), n.getMonth(), n.getDate(), 0, 0, 0);
      const de = new Date(n.getFullYear(), n.getMonth(), n.getDate() + 1, 0, 0, 0);
      const dp = (n - ds) / (de - ds);
      document.getElementById("dayFill").style.width = pct(dp) + "%";
      document.getElementById("dayStat").textContent = `${pct(dp)}% • ${fmtTime(n)}`;
      const hl = Math.max(0, (de - n) / (1000*60*60));
      document.getElementById("dayTiny").textContent = `${hl.toFixed(1)} hrs left today`;
      document.getElementById("nowText").textContent = `${fmtDate(n)} • ${fmtTime(n)}`;
    }, 30_000);
  </script>
</body>
</html>
